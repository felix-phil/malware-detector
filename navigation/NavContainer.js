import React, { useEffect, useState } from 'react';
import { NavigationContainer } from '@react-navigation/native';
import StackNavigator from './StackNavigator';
import ProgressDialog from '../components/dialog/ProgressDialog';
import { useDispatch, useSelector } from 'react-redux';
import Alert from '../components/alert/Alert';
import * as messageAction from '../store/actions/messages';

const NavContainer = ({ theme }) => {
  const progress = useSelector((state) => state.progress);
  const message = useSelector((state) => state.message);

  const dispatch = useDispatch();

  return (
    <NavigationContainer>
      <StackNavigator />
      <ProgressDialog visible={progress.show} progress={progress.value} />
      <Alert
        visible={message.show}
        type={message.type}
        message={message.message}
        onDismiss={() => dispatch(messageAction.clearMessage())}
      />
    </NavigationContainer>
  );
};
export default NavContainer;
