import React, { useState } from 'react';
import { Appbar, Menu } from 'react-native-paper';
import { Platform, StyleSheet } from 'react-native';
import { useOpenClose } from '../../hooks/use-open-close';

const CustomHeader = (props) => {
  const { navigation, route, options, backButton } = props;
  const previous = navigation.canGoBack();

  const { isOpen, onOpen, onClose } = useOpenClose(false);

  return (
    <Appbar.Header>
      {previous && backButton ? (
        <Appbar.BackAction onPress={navigation.goBack} />
      ) : null}
      <Appbar.Content
        title={options.headerTitle || options.name}
        titleStyle={{
          // alignItems: "center",
          alignSelf: props.alignText || 'flex-start',
        }}
      />
      <Menu
        anchor={
          <Appbar.Action
            icon={
              Platform.OS === 'android' ? 'dots-vertical' : 'dots-horizontal'
            }
            color="white"
            onPress={onOpen}
          />
        }
        onDismiss={onClose}
        visible={isOpen}
      >
        <Menu.Item
          title={'About'}
          onPress={() => {
            navigation.navigate('About');
            onClose();
          }}
        />
      </Menu>
    </Appbar.Header>
  );
};
const styles = StyleSheet.create({});
export default CustomHeader;
